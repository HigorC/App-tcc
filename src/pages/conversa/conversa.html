<!--
  Generated template for the ConversaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons left>
      <button ion-button icon-only (click)="voltarParaSalas()">
        <ion-icon name="md-arrow-back" class="icon-voltar"></ion-icon>
      </button>
    </ion-buttons>

    <ion-buttons right>
      <button ion-button icon-only (click)="mostrarOpcoesDaSala()">
        <ion-icon name="settings" *ngIf="sala && sala.criador === meuEmail; else usuarios" class="icon-voltar"></ion-icon>
        <ng-template #usuarios>

          <ion-icon name="menu" class="icon-voltar"></ion-icon>
        </ng-template>
      </button>
    </ion-buttons>
    <ion-title *ngIf="sala">{{sala.nome}}</ion-title>
  </ion-navbar>


</ion-header>



<ion-content padding>
  <!-- <ion-card *ngFor="let mensagem of mensagens | async" [ngClass]="{'proprioAutor':mensagem.autor == meuEmail,'outroAutor':mensagem.autor != meuEmail}">
    <ion-card-header class="autorMensagem">
      {{mensagem.autor}}
    </ion-card-header>
    <ion-card-content>
      {{mensagem.texto}}
    </ion-card-content>
  </ion-card> -->

  <div *ngFor="let mensagem of mensagens | async">
    <!-- <span *ngIf="mensagem.excluirSala"></span> -->
    <span class="mensagem" [ngClass]="{'proprioAutor':mensagem.emailAutor == meuEmail,'outroAutor':mensagem.emailAutor != meuEmail}">
      <p class="autor">{{mensagem.apelidoAutor}} - {{mensagem.dataEnvio}}</p>
      {{mensagem.mensagem}}
    </span>
  </div>
</ion-content>


<!-- Footer -->
<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col col-10>
        <ion-input #inputMsg placeholder="Digite" round [(ngModel)]="mensagem"></ion-input>
      </ion-col>
      <ion-col col-2>
        <button ion-button (click)="enviarMensagem(mensagem)">
          <ion-icon name="send"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-footer>